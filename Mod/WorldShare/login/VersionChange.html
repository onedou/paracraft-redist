<html>
<body>
    <pe:mcml>
        <script type="text/npl" refresh="false" src="VersionChange.lua">
            VersionChange = commonlib.gettable("Mod.WorldShare.login.VersionChange")

            VersionChange.SetPage()
            
            function get_source()
                return VersionChange:GetAllRevision()
            end

            function version_button()
                return "color:#FFFFF;textcolor:#FFFFF;width:280px;height: 30px;margin-top: 10px;margin-bottom: 10px"
            end

            function get_value()
                return format("%s%s", "版本：", tostring(Eval("revision")))
            end

            function select_version(index)
                VersionChange:SelectVersion(index)
            end
        </script>
        <aries:window
            class="default"
            mode="thin"
            width="300"
            height="400"
            title='<%=L"版本切换" %>'
            onclose="VersionChange.ClosePage">
            <pe:gridview DataSource="<%=get_source()%>">
                <Columns style="color:#FFFFF;textcolor:#FFFFF;">
                    <input type="button"
                           onclick="select_version"
                           class="mc_light_grey_button_with_fillet"
                           value='<%=get_value()%>'
                           name='<%=Eval("index")%>'
                           style='<%=version_button()%>' />
                </Columns>
            </pe:repeat>
        </aries:window>
    </pe:mcml>
</body>
</html>